declare namespace TopSinWechat {
    /**
     *  初始化。
     *  token: 微信后台应用的token
     * aeskey: 微信后台填写的aeskey
     * rcvId: 应用的id
     */
    export function setup(token: string, aeskey: string, rcvid: number):void;

    /**
     * 响应微信后台检查的接口(GET)
     * sig: 签名
     * timestamp: 时间戳
     * nonce: 随机字符串
     * echostr: 加密的请求字符串
     * @returns 如： {"code", 0, "data": "解密后的echostr", "msg": "error message"}
     * code 范围0~11，对应不同的msg
     */
    export function verifyUrl(sig: string, timestamp: string, nonce: string, echostr: string):Map<string, string>;

    /**
     * 用于解密收到的消息
     * data: 从微信后台收到的消息
     * @returns 同 verifyUrl, data字段的值为解密后的消息
     */
    export function decryptMsg(sig: string, timestamp: string, nonce: string, data: string):Map<string, string>;

    /**
     * 用于加密发送的消息
     * reply: 发送的消息
     * timestamp: 时间戳
     * nonce: 随机字符串
     * @returns 同 verifyUrl， data字段的值为加密后的消息
     */
    export function encryptMsg(reply: string, timestamp: string, nonce: string):Map<string, string>;

    /**
     * 获取解密后的xml中的字段值
     * data：解密后的xml
     * field: 需要获取值的字段
     */
    export function getXmlField(data: string, field: string):string;
}

export = TopSinWechat;